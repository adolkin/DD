<div class="container-fluid">
  <div class="jumbotron">
    <h4>Welcome {{userName}}
      <a href="#" (click)="logout()">Logout</a>
    </h4>
    <button class="btn btn-info" (click)="openEdit()">Edit Mode</button>
    <button class="btn btn-info" (click)="openView()">View Mode</button>

    <div [hidden]="hideEdit" class="form-horizontal edit">
      <form #formData='ngForm' (ngSubmit)="setSetting(formData)">
        <div class="form-group row">
          <a routerLink="/edit/page1" class="col-md-2">Edit Page 1</a>
          <label for="page1" class="col-md-2 col-form-label">Set Background Page1:</label>
          <div class="col-md-8">
            <input type="text" class="form-control" id="page1" [(ngModel)]="page1Background" name="page1Background">
          </div>
        </div>
        <div class="form-group row">
          <a routerLink="/edit/page2" class="col-md-2">Edit Page 2</a>
          <label for="page2" class="col-md-2 col-form-label">Set Background Page2:</label>
          <div class="col-md-8">
            <input type="text" class="form-control" id="page2" [(ngModel)]="page2Background" name="page2Background">
          </div>
        </div>
        <div class="form-group row">
          <span class="col-md-2"></span>
          <label for="time" class="col-md-2 col-form-label">Set Navigation Time:</label>
          <div class="col-md-3">
            <div class="input-group">
              <input type="text" class="form-control" id="time" [(ngModel)]="navigationTime" name="navigationTime">
              <span class="input-group-addon">seconds</span>
            </div>
          </div>
        </div>
        <div class="table-responsive">
          <table class="table table-bordered">
            <tr>
              <td>
                <b>From - To </b>
              </td>
              <ng-container *ngFor="let time of times">
                <td style="text-align: center;">{{time.fromTo}}</td>
              </ng-container>
            </tr>
            <tr>
              <td>
                <b>Page1</b>
              </td>
              <ng-container *ngFor="let page1Time of displayTime.page1; let i=index; trackBy:customTrackBy">
                <td style="text-align: center;">
                  <input type="checkbox" [(ngModel)]="displayTime.page1[i]" name="displayTime.page1From{{[i]}}" />
                </td>
              </ng-container>
            </tr>
            <tr>
              <td>
                <b>Page2</b>
              </td>
              <ng-container *ngFor="let page2Time of displayTime.page2; let j=index; trackBy:customTrackBy">
                <td style="text-align: center;">
                  <input type="checkbox" [(ngModel)]="displayTime.page2[j]" name="displayTime.page2From{{[j]}}" />
                </td>
              </ng-container>
            </tr>
          </table>
        </div>
        <div class="row">
          <span class="col-md-9"></span>
          <div class="col-md-2">
            <button class="btn btn-primary setting-button" type="button" (click)="change(pageTime.value)">Test</button>
            <button class="btn btn-primary setting-button" type="submit">Save Settings</button>
          </div>
          <div class="col-md-1">
            <img *ngIf="loading" class="loading">
            <span style="color: green; font-size: large">
              <b>{{updateStatus}}</b>
            </span>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
